# Memory 2026-02-28

## INVOICEFORGE Build - Day 2

### Major Decisions

**Product Positioning Finalized**
- Price: $19 (template + working Make automation)
- Honest marketing: "Notion template + importable Make scenario" NOT "auto-generates invoices out of the box"
- Cut Canva templates (not a selling point, free anyway)
- Positioning: "Itemized billing. Auto-calculations. One-click PDF automation."

**Make.com Integration Actual Deliverable**
- Created `INVOICEFORGE-PDF-Generator.json` - importable scenario
- Created `MAKE-SCENARIO-SETUP.md` - 15-minute setup guide
- Buyer imports JSON ‚Üí 15 min setup ‚Üí PDF automation works
- This is REAL value, not just documentation

### Technical Progress

**Notion Database Enhancements**
- Added Tax Percent (number, percent format) to Invoices
- Added Tax (formula: prop("Amount") * prop("Tax Percent") / 100)
- Added PDF (files property) for generated PDFs
- All formulas working, relations linked

**Documentation Complete**
- `MAKE-SCENARIO-SETUP.md` - comprehensive guide
- `GUMROAD-LISTING.md` - honest sales copy
- `README.md` - accurate feature list
- Committed and pushed to GitHub

### Git/GitHub Status

**Secrets Management**
- GitHub blocked push due to secrets in commits
- User unblocked via GitHub web interface
- Committed `.gitignore` to prevent future issues
- **TODO: Rewrite git history later** to completely remove secrets
- **TODO: Regenerate Notion token** after history rewrite

**Repository**: https://github.com/Rook24Builds/invoiceforge
**Latest commit**: 8b2fe10 - "Add Make scenario JSON and updated docs"

### What's Included Now

```
INVOICEFORGE Package ($19):
‚îú‚îÄ‚îÄ üìä Notion template (4 DBs, 5/8/10/3 samples)
‚îú‚îÄ‚îÄ ‚öôÔ∏è INVOICEFORGE-PDF-Generator.json (Make scenario)
‚îú‚îÄ‚îÄ üìñ SETUP.md (quick start)
‚îú‚îÄ‚îÄ ‚öôÔ∏è MAKE-SCENARIO-SETUP.md (15-min automation setup)
‚îî‚îÄ‚îÄ üìÑ SAMPLE-DATA.md (sample explanations)
```

### Next Steps (Pending)
1. Publish to Gumroad (pending - manual setup required, browser automation failed)
2. Rewrite git history to remove secrets (IN PROGRESS - needs execution)
3. Regenerate Notion token (IN PROGRESS - needs new token)
4. First sale monitoring

### Action Items Completed Today
- [x] Verified all Gumroad files exist and are ready
- [x] Documented manual Gumroad setup steps
- [x] Created comprehensive action plan (INVOICEFORGE-ACTION-PLAN.md)
- [x] Confirmed email template exists
- [x] Updated content calendar launch dates to 2026-02-28
- [x] Identified Notion API token is invalid (expired/exposed)

### Tool Call Issues - CRITICAL (FIXED VIA WORKAROUND)

**Problem Pattern Detected**
- `read tool called without path` errors in embedded sub-agents
- Examples: toolCallId=functions.read:103, functions.read:104, functions.read:1
- All occurred without required `path` parameter
- Happening frequently in sub-agent sessions

**Root Cause**
OpenClaw's minimal sub-agent prompt mode doesn't include tool parameter schemas. The model guesses. Some guesses are wrong.

**Workaround Applied**
- Created `SUBAGENT-PREAMBLE.md` - mandatory tool safety preamble
- Prepend to EVERY `sessions_spawn` call before the actual task
- Documents required vs optional params for all common tools
- Lists common failure patterns to avoid

**Usage Pattern for Future Spawns:**
```
sessions_spawn task:"READ SUBAGENT-PREAMBLE.md FIRST.

Then: [actual task here]"
```

**Long-term:** File OpenClaw issue to add tool schemas to minimal prompt mode.

### Tool Call Issues - CRITICAL

**Problem Pattern Detected**
- `read tool called without path` errors in embedded sub-agents
- Examples: toolCallId=functions.read:103, functions.read:104, functions.read:1
- All occurred without required `path` parameter
- Happening frequently in sub-agent sessions

**Root Cause**
Sub-agents not providing required `file_path` parameter when calling `read` tool.

**Fix Applied**
- Updated TOOLS.md with comprehensive Tool Usage Guidelines section
- Documented required vs optional parameters for all tools
- Added parameter name aliases section for sub-agents
- Added debugging guidance for tool failures

**Prevention**
- Sub-agents must validate tool calls have required params
- Check system prompt for exact parameter names (case-sensitive)
- Read TOOLS.md Tool Usage Guidelines before spawning sub-agents

### Blockers
- Notion API token invalid (401 Unauthorized) - needs regeneration
- Browser automation failed for Gumroad form filling
- Git history contains exposed secrets

### Key Insight
User called out the Canva template BS - forced me to focus on REAL value proposition: the importable Make scenario is the differentiator, not templates anyone can make for free.
